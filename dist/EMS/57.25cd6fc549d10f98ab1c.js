(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"78jd":function(e,r){e.exports=""},W6Uy:function(e,r,n){"use strict";n.r(r);var t=n("mrSG"),s=n("CcnG"),a=n("qmRI"),i=function(){function e(e){this.ems=e,this.errMsg=!1,this.popoverTitle="Delete Branch",this.popoverMessage="Are you sure to delete",this.confirmClicked=!1,this.cancelClicked=!1,this.isEdit=!1,this.p=1,this.sessionid=localStorage.getItem("sessionid"),this.uid=localStorage.getItem("uid"),this.ems.active=2}return e.prototype.ngOnInit=function(){this.getdetails()},e.prototype.Addbranch=function(e){var r=this;this.errMsg=!1,e.invalid?this.errMsg=!0:(this.errMsg=!1,this.isEdit?this.ems.editBranch(this.bname,this.bcode,this.degree,this.bid,this.sessionid,this.uid).subscribe(function(n){r.ems.status=n.status,"Success"==n.status?(r.getdetails(),r.ems.msg=n.message,$("#myModal").modal("show"),e.reset(),r.isEdit=!1):("Unauthorised access"==n.message&&r.ems.sessionlogout(),"Bad request"==n.message?(r.ems.msg="Internal Server Error",$("#myModal").modal("show")):(r.ems.msg=n.message,$("#myModal").modal("show")))}):this.ems.addBranch(this.bname,this.bcode,this.degree,this.sessionid,this.uid).subscribe(function(n){r.ems.status=n.status,"Success"==n.status?(r.getdetails(),r.ems.msg=n.message,$("#myModal").modal("show"),e.reset()):("Unauthorised access"==n.message&&r.ems.sessionlogout(),"Bad request"==n.message?(r.ems.msg="Internal Server Error",$("#myModal").modal("show")):(r.ems.msg=n.message,$("#myModal").modal("show")))}))},e.prototype.Editbranch=function(e){var r=this;this.errMsg=!1,this.bid=e,this.ems.getBranchDetail(e,this.sessionid,this.uid).subscribe(function(e){"Success"==e.status&&(r.isEdit=!0,$("html, body").animate({scrollTop:0}),r.bcode=e.data.branch_code,r.bname=e.data.branch_name,r.degree=e.data.degree_id),"Unauthorised access"==e.message&&r.ems.sessionlogout()})},e.prototype.Deletebranch=function(e){var r=this;this.errMsg=!1,this.ems.deleteBranch(e,this.sessionid,this.uid).subscribe(function(e){r.ems.status=e.status,"Success"==e.status?(document.getElementById("Login").reset(),$("html, body").animate({scrollTop:0}),r.getdetails(),r.ems.msg=e.message,$("#myModal").modal("show")):("Unauthorised access"==e.message&&r.ems.sessionlogout(),"Bad request"==e.message?(r.ems.msg="Internal Server Error",$("#myModal").modal("show")):(r.ems.msg=e.message,$("#myModal").modal("show")))})},e.prototype.getdetails=function(){var e=this;this.ems.getBranch(this.sessionid,this.uid).subscribe(function(r){"Unauthorised access"==r.message&&e.ems.sessionlogout(),"Success"==r.status&&(e.branchdetails=r.data),e.ems.getDegree(e.sessionid,e.uid).subscribe(function(r){"Unauthorised access"==r.message&&e.ems.sessionlogout(),"Success"==r.status&&(e.degreedetails=r.data)})})},e=t.b([Object(s.Component)({selector:"app-branch",template:n("dhyo"),styles:[n("78jd")]}),t.d("design:paramtypes",[a.a])],e)}(),o=n("Zseb"),d=n("Ip0R"),l=n("ZYCi"),c=n("gIcY"),m=n("xkgV"),h=n("fCu2"),p=n("JXGk");n.d(r,"routes",function(){return g}),n.d(r,"BranchModule",function(){return u});var g=[{path:"",component:i,pathMatch:"full"}],u=function(){function e(){}return e.routes=g,e=t.b([Object(s.NgModule)({imports:[d.CommonModule,l.RouterModule.forChild(g),c.FormsModule,o.a,m.a,h.a.forRoot({confirmButtonType:"danger"}),p.ModalModule],declarations:[i],providers:[],bootstrap:[i]})],e)}()},dhyo:function(e,r){e.exports='<div class="row brdcrm-mrgn">\r\n      <div class="col-md-6 col-sm-6 col-xs-8">\r\n        <div >\r\n        <div class="panel-heading mainpanel-hd text-uppercase">\r\n          \x3c!-- Examination Management System --\x3e\r\n        </div>\r\n        </div>\r\n       </div>\r\n       <div class="col-md-6 col-sm-12 col-xs-12 pull-right">\r\n        <ol class="breadcrumb">\r\n          <li><a href="#/app/dashboard"><i class="fa fa-dashboard"></i> Home</a></li>\r\n          <li><a href="#/app/preExam">Pre Examination Management</a>\r\n            </li>\r\n            <li class="active">Branch</li>\r\n          </ol>\r\n       </div>\r\n     </div>\r\n<div *ngIf="ems.isAdmin">\r\n<section>\r\n     <div class="row">\r\n\r\n        <div class="col-md-12" id="first-content">\r\n           <form #f="ngForm" (ngSubmit)="Addbranch(f)" id="Login">\r\n           <div class="panel panel-primary" id="shadows">\r\n              <div class="panel-heading " id="head-title"><i class="fa fa-info-circle"></i>&nbsp;Add Branch\r\n              </div>\r\n              <div class="panel-body">\r\n                 <div class="row">\r\n                    <div class="col-md-12">\r\n                       <div class="form-group">\r\n                          <label for="email" id="labels">Name<strong style="color:red;">*</strong></label>\r\n                          <input maxlength="50" type="text" class="form-control input-sm" pattern="[a-zA-Z][a-zA-Z ]*" placeholder="Enter branch name" name="bname" required [(ngModel)]="bname"  #bnameControl="ngModel">\r\n                          <label style="color:red;" class="input-sm" *ngIf="bnameControl.errors?.required && bnameControl.touched">\r\n                              Branch Name is required\r\n                          </label>\r\n                          <label style="color:red;" class="input-sm" *ngIf="bnameControl.errors?.pattern && bnameControl.touched && !(bnameControl.errors?.required)">\r\n                              Only Aphabets allowed\r\n                          </label>\r\n                        </div>\r\n                    </div>\r\n                      </div>\r\n                       <div class="row">\r\n                   <div class="col-md-12">\r\n                       <div class="form-group">\r\n                          <label for="email" id="labels">Code<strong style="color:red;">*</strong></label>\r\n                          <input type="text" maxlength="15" class="form-control input-sm" placeholder="Enter branch code" name="bcode" required [(ngModel)]="bcode"  #bcodeControl="ngModel">\r\n                          <label style="color:red;" class="input-sm" *ngIf="bcodeControl.errors?.required && bcodeControl.touched">\r\n                              Branch Code is required\r\n                          </label>\r\n                          \r\n                        </div>\r\n                    </div>\r\n               </div>\r\n                    <div class="row">\r\n                     <div class="col-md-12">\r\n                       <div class="form-group">\r\n                          <label for="email" id="labels">Name of Degree<strong style="color:red;">*</strong></label>\r\n                          \x3c!-- <input type="text" class="form-control input-sm" pattern="[a-zA-Z][a-zA-Z ]*" placeholder="Enter programme name" name="pgm" required [(ngModel)]="pgm"  #pgmControl="ngModel">\r\n                          <label style="color:red;" class="input-sm" *ngIf="pgmControl.errors?.required && pgmControl.touched">\r\n                              Programme Name is required\r\n                          </label>\r\n                          <label style="color:red;" class="input-sm" *ngIf="pgmControl.errors?.pattern && pgmControl.touched && !(pgmControl.errors?.required)">\r\n                              Only Aphabets allowed\r\n                          </label> --\x3e\r\n                          <select class="form-control input-sm" name="degree" required [(ngModel)]="degree"  #degreeControl="ngModel">\r\n                              <option  diabled selected value="undefined" disabled>----select your option-------- </option>\r\n                              <option *ngFor="let degree of degreedetails" value="{{degree.deg_id}}">{{degree.deg_name}}</option>\r\n                              \x3c!-- <option>#</option>\r\n                              <option>#</option>\r\n                              <option>#</option> --\x3e\r\n                            </select>\r\n                            <span style="color:red;" class="help-block" *ngIf="degreeControl.errors?.required && degreeControl.touched">\r\n                               Degree is required\r\n                           </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    </div>\r\n                 \r\n                \r\n                \r\n                    <div  *ngIf="errMsg" class="red-text center error-message" style="text-align: center;font-size: 15px;color:red;">\r\n                        Please fill valid data in the required fields\r\n                        </div>\r\n                \r\n              </div>\r\n              <div *ngIf="!isEdit" class="panel-footer panel-default text-right">\r\n                 <button type="submit" class="btn btn-primary btn-sm"><i class="fa fa-plus"></i>&nbsp;Add</button>\r\n              </div>\r\n              <div *ngIf="isEdit" class="panel-footer panel-default text-right">\r\n               <button type="submit" class="btn btn-primary btn-sm"><i class="fa fa-plus"></i>&nbsp;Update</button>\r\n            </div>\r\n           </div>\r\n         </form>\r\n        </div>\r\n     </div>\r\n  \r\n</section>\r\n\r\n\r\n<section>\r\n     <div class="row">\r\n        <div class="col-md-12" id="first-content">\r\n           <div class="panel panel-primary" id="shadows">\r\n              <div class="panel-heading " id="head-title"><i class="fa fa-info-circle"></i>&nbsp;Branch Details\r\n              </div>\r\n             <div class="panel-body" id="table-contents">\r\n\r\n\r\n<div class="row">\r\n \r\n <div id="no-more-tables">\r\n\r\n     <table class="col-md-12 table-bordered table-striped table-condensed cf">\r\n     <thead class="cf">\r\n        <tr>\r\n           <th>Sl.No</th>\r\n           <th>Branch Name</th>\r\n           <th>Branch Code</th>\r\n           <th>Degree Name</th>\r\n           <th>Edit</th>\r\n           <th>Delete</th>\r\n        </tr>\r\n     </thead>\r\n     <tbody>\r\n        <tr *ngFor="let batch of branchdetails| paginate: { itemsPerPage: 10, currentPage: p };let i = index">\r\n           <td data-title="Sl.No">{{(10*(p-1))+i+1}}</td>\r\n           <td data-title="Branch Name">{{batch.branch_name}}</td>\r\n           <td data-title="Branch Code">{{batch.branch_code}}</td>\r\n           <td data-title="Degree Name">{{batch.degree_name}}</td>\r\n           <td data-title="Edit"><a (click)=Editbranch(batch.branch_id) style="cursor:pointer"><i class="fa fa-pencil"></i></a></td>\r\n           <td data-title="Delete" class="editdel"><a class="btn btn-default"\r\n            mwlConfirmationPopover\r\n            [popoverTitle]="popoverTitle"\r\n            [popoverMessage]="popoverMessage"\r\n            placement="top"\r\n            (confirm)="Deletebranch(batch.branch_id)"\r\n            (cancel)="cancelClicked = true"   role="button" title="Delete"><i class="fa fa-trash"></i></a></td>\r\n        </tr>\r\n        \x3c!-- <tr>\r\n           <td data-title="#">#</td>\r\n           <td data-title="#">#</td>\r\n           <td data-title="#">#</td>\r\n           \r\n        </tr> --\x3e\r\n        \r\n     </tbody>\r\n  </table>\r\n  <pagination-controls style="text-align:center;" (pageChange)="p = $event"></pagination-controls>\r\n </div>\r\n</div>\r\n\r\n\r\n\r\n</div>\r\n             \r\n         \r\n           </div>\r\n        </div>\r\n     </div>\r\n\r\n  \r\n</section>\r\n</div>\r\n\r\n\r\n<div *ngIf="!ems.isAdmin">\r\n<section>\r\n   <div class="row">\r\n      <div class="col-md-12" id="first-content">\r\n         <div class="panel panel-primary" id="shadows">\r\n            <div class="panel-heading " id="head-title"><i class="fa fa-info-circle"></i>&nbsp;Branch Details\r\n            </div>\r\n           <div class="panel-body" id="table-contents">\r\n\r\n\r\n<div class="row">\r\n\r\n<div id="no-more-tables">\r\n\r\n   <table class="col-md-12 table-bordered table-striped table-condensed cf">\r\n   <thead class="cf">\r\n      <tr>\r\n         <th>Branch Name</th>\r\n         <th>Branch Code</th>\r\n         <th>Degree Name</th>\r\n         \r\n      </tr>\r\n   </thead>\r\n   <tbody>\r\n      <tr *ngFor="let batch of branchdetails">\r\n         <td data-title="Branch Name">{{batch.branch_name}}</td>\r\n         <td data-title="Branch Code">{{batch.branch_code}}</td>\r\n         <td data-title="Degree Name">{{batch.degree_name}}</td>\r\n         \r\n      </tr>\r\n      \x3c!-- <tr>\r\n         <td data-title="#">#</td>\r\n         <td data-title="#">#</td>\r\n         <td data-title="#">#</td>\r\n         \r\n      </tr> --\x3e\r\n      \r\n   </tbody>\r\n</table>\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n</div>\r\n           \r\n       \r\n         </div>\r\n      </div>\r\n   </div>\r\n\r\n\r\n</section>\r\n</div>\r\n'}}]);